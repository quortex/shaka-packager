<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Packager SDK: shaka::media::CombinedMuxerListener Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Packager SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/daf/namespaceshaka.html">shaka</a></li><li class="navelem"><b>media</b></li><li class="navelem"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html">CombinedMuxerListener</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d2/d71/classshaka_1_1media_1_1CombinedMuxerListener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::media::CombinedMuxerListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html">combined_muxer_listener.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::media::CombinedMuxerListener:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.png" usemap="#shaka::media::CombinedMuxerListener_map" alt=""/>
  <map id="shaka::media::CombinedMuxerListener_map" name="shaka::media::CombinedMuxerListener_map">
<area href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html" alt="shaka::media::MuxerListener" shape="rect" coords="0,0,235,24"/>
<area href="../../d9/d44/classshaka_1_1media_1_1MultiCodecMuxerListener.html" alt="shaka::media::MultiCodecMuxerListener" shape="rect" coords="0,112,235,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad831c8140c8031f4dc985f5602e4b831"><td class="memItemLeft" align="right" valign="top"><a id="ad831c8140c8031f4dc985f5602e4b831"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AddListener</b> (std::unique_ptr&lt; <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a> &gt; listener)</td></tr>
<tr class="separator:ad831c8140c8031f4dc985f5602e4b831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">MuxerListener implementation overrides.</div></td></tr>
<tr class="memitem:a445b97bf06c20a44ae5d0fef926cbd9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a445b97bf06c20a44ae5d0fef926cbd9f">OnEncryptionInfoReady</a> (bool is_initial_encryption_info, FourCC protection_scheme, const std::vector&lt; uint8_t &gt; &amp;key_id, const std::vector&lt; uint8_t &gt; &amp;iv, const std::vector&lt; <a class="el" href="../../d0/d86/structshaka_1_1media_1_1ProtectionSystemSpecificInfo.html">ProtectionSystemSpecificInfo</a> &gt; &amp;key_system_info) override</td></tr>
<tr class="separator:a445b97bf06c20a44ae5d0fef926cbd9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a2b9e923b6a6e255ee5632bffc1134"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a40a2b9e923b6a6e255ee5632bffc1134">OnEncryptionStart</a> () override</td></tr>
<tr class="separator:a40a2b9e923b6a6e255ee5632bffc1134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a3db8b5fc01846c5f60f48223a15a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a41a3db8b5fc01846c5f60f48223a15a0">OnMediaStart</a> (const <a class="el" href="../../d0/d27/structshaka_1_1media_1_1MuxerOptions.html">MuxerOptions</a> &amp;muxer_options, const <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html">StreamInfo</a> &amp;stream_info, int32_t time_scale, ContainerType container_type) override</td></tr>
<tr class="separator:a41a3db8b5fc01846c5f60f48223a15a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24920401f78720beb312a80dd76dcee0"><td class="memItemLeft" align="right" valign="top"><a id="a24920401f78720beb312a80dd76dcee0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a24920401f78720beb312a80dd76dcee0">OnAvailabilityOffsetReady</a> () override</td></tr>
<tr class="memdesc:a24920401f78720beb312a80dd76dcee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when LL-DASH streaming starts. <br /></td></tr>
<tr class="separator:a24920401f78720beb312a80dd76dcee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10ef338dec2ca1afaf591d8590f3a05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#ae10ef338dec2ca1afaf591d8590f3a05">OnSampleDurationReady</a> (int32_t sample_duration) override</td></tr>
<tr class="separator:ae10ef338dec2ca1afaf591d8590f3a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a470b55d86d99f97450192e08d00e23"><td class="memItemLeft" align="right" valign="top"><a id="a9a470b55d86d99f97450192e08d00e23"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a9a470b55d86d99f97450192e08d00e23">OnSegmentDurationReady</a> () override</td></tr>
<tr class="memdesc:a9a470b55d86d99f97450192e08d00e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when LL-DASH streaming starts. <br /></td></tr>
<tr class="separator:a9a470b55d86d99f97450192e08d00e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf16580970d5e65d33c80cb9e8a57651"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#aaf16580970d5e65d33c80cb9e8a57651">OnMediaEnd</a> (const <a class="el" href="../../d1/d03/structshaka_1_1media_1_1MuxerListener_1_1MediaRanges.html">MediaRanges</a> &amp;media_ranges, float duration_seconds) override</td></tr>
<tr class="separator:aaf16580970d5e65d33c80cb9e8a57651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4ac528f1f2650f02450b92b29c0101"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#afb4ac528f1f2650f02450b92b29c0101">OnNewSegment</a> (const std::string &amp;file_name, int64_t start_time, int64_t duration, uint64_t segment_file_size) override</td></tr>
<tr class="separator:afb4ac528f1f2650f02450b92b29c0101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c347ee8debc05dadf4d880a6507cecc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a1c347ee8debc05dadf4d880a6507cecc">OnCompletedSegment</a> (int64_t duration, uint64_t segment_file_size) override</td></tr>
<tr class="separator:a1c347ee8debc05dadf4d880a6507cecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b45b02ae133efedace054329469058"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a24b45b02ae133efedace054329469058">OnKeyFrame</a> (int64_t timestamp, uint64_t start_byte_offset, uint64_t size)</td></tr>
<tr class="separator:a24b45b02ae133efedace054329469058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4c96d42b1fb17b4b1194dd7d584956"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a6d4c96d42b1fb17b4b1194dd7d584956">OnCueEvent</a> (int64_t timestamp, const std::string &amp;cue_data) override</td></tr>
<tr class="separator:a6d4c96d42b1fb17b4b1194dd7d584956"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a095ea41f43ea33761b0cedb442fdcd4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a095ea41f43ea33761b0cedb442fdcd4e">LimitNumOfMuxerListners</a> (size_t num)</td></tr>
<tr class="separator:a095ea41f43ea33761b0cedb442fdcd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9098555ce57c631f6cf0998e62fcc68b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a9098555ce57c631f6cf0998e62fcc68b">MuxerListenerAt</a> (size_t index)</td></tr>
<tr class="separator:a9098555ce57c631f6cf0998e62fcc68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classshaka_1_1media_1_1MuxerListener"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classshaka_1_1media_1_1MuxerListener')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">shaka::media::MuxerListener</a></td></tr>
<tr class="memitem:a6e15ef9264cd3edbfef748d626dd91ae inherit pub_types_classshaka_1_1media_1_1MuxerListener"><td class="memItemLeft" align="right" valign="top"><a id="a6e15ef9264cd3edbfef748d626dd91ae"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ContainerType</b> { <br />
&#160;&#160;<b>kContainerUnknown</b> = 0, 
<b>kContainerMp4</b>, 
<b>kContainerMpeg2ts</b>, 
<b>kContainerWebM</b>, 
<br />
&#160;&#160;<b>kContainerText</b>, 
<b>kContainerPackedAudio</b>
<br />
 }</td></tr>
<tr class="separator:a6e15ef9264cd3edbfef748d626dd91ae inherit pub_types_classshaka_1_1media_1_1MuxerListener"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class supports a group of MuxerListeners. All events are forwarded to every individual MuxerListeners contained in this <a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html">CombinedMuxerListener</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html#l00020">20</a> of file <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html">combined_muxer_listener.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a095ea41f43ea33761b0cedb442fdcd4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095ea41f43ea33761b0cedb442fdcd4e">&#9670;&nbsp;</a></span>LimitNumOfMuxerListners()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::LimitNumOfMuxerListners </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Limit the number of children MuxerListeners. It can only be used to reduce the number of children. @num is the number to set to. It is a no-op if <code>num</code> is equal or greater than the existing number of children MuxerListeners. </p>

<p class="definition">Definition at line <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html#l00059">59</a> of file <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html">combined_muxer_listener.h</a>.</p>

</div>
</div>
<a id="a9098555ce57c631f6cf0998e62fcc68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9098555ce57c631f6cf0998e62fcc68b">&#9670;&nbsp;</a></span>MuxerListenerAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a>* shaka::media::CombinedMuxerListener::MuxerListenerAt </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a> at the specified index or nullptr if the index is out of range. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html#l00065">65</a> of file <a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html">combined_muxer_listener.h</a>.</p>

</div>
</div>
<a id="a1c347ee8debc05dadf4d880a6507cecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c347ee8debc05dadf4d880a6507cecc">&#9670;&nbsp;</a></span>OnCompletedSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnCompletedSegment </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>segment_file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when a segment has been muxed and the entire file has been written. For Low Latency only. Note that it should be called after OnNewSegment. When the low latency segment is initally added to the manifest, the size and duration are not known, because the segment is still being processed. This will update the segment's duration and size after the segment is fully written and these values are known. </p>

<p>Reimplemented from <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a3f1a3f7c2c4f478bed80531f90eadb31">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00080">80</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a6d4c96d42b1fb17b4b1194dd7d584956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4c96d42b1fb17b4b1194dd7d584956">&#9670;&nbsp;</a></span>OnCueEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnCueEvent </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cue_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when there is a new Ad Cue, which should align with (sub)segments. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>indicate the cue timestamp. </td></tr>
    <tr><td class="paramname">cue_data</td><td>is the data of the cue. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aa9d6d113d7a0b58fffc1abac99013757">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00095">95</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a445b97bf06c20a44ae5d0fef926cbd9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445b97bf06c20a44ae5d0fef926cbd9f">&#9670;&nbsp;</a></span>OnEncryptionInfoReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnEncryptionInfoReady </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_initial_encryption_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FourCC&#160;</td>
          <td class="paramname"><em>protection_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d0/d86/structshaka_1_1media_1_1ProtectionSystemSpecificInfo.html">ProtectionSystemSpecificInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>key_system_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the media's encryption information is ready. OnEncryptionInfoReady with <em>initial_encryption_info</em> being true should be called before <a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a41a3db8b5fc01846c5f60f48223a15a0">OnMediaStart()</a>, if the media is encrypted. All the parameters may be empty just to notify that the media is encrypted. For ISO BMFF (MP4) media: If <em>is_initial_encryption_info</em> is true then <em>key_id</em> is the default_KID in 'tenc' box. If <em>is_initial_encryption_info</em> is false then <em>key_id</em> is the new key ID for the for the next crypto period. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_initial_encryption_info</td><td>is true if this is the first encryption info for the media. In general, this flag should always be true for non-key-rotated media and should be called only once. </td></tr>
    <tr><td class="paramname">protection_scheme</td><td>specifies the protection scheme: 'cenc', 'cens', 'cbc1', 'cbcs'. </td></tr>
    <tr><td class="paramname">key_id</td><td>is the key ID for the media. The format should be a vector of uint8_t, i.e. not (necessarily) human readable hex string. </td></tr>
    <tr><td class="paramname">iv</td><td>is the initialization vector. For most cases this should be 16 bytes, but whether the input is accepted is up to the implementation. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#ab521acca727bbe01aa15c751325c0001">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00017">17</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a40a2b9e923b6a6e255ee5632bffc1134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a2b9e923b6a6e255ee5632bffc1134">&#9670;&nbsp;</a></span>OnEncryptionStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnEncryptionStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the muxer starts encrypting the segments. Further segments notified via <a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#afb4ac528f1f2650f02450b92b29c0101">OnNewSegment()</a> are encrypted. This may be called more than once e.g. per segment, but the semantics does not change. </p>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a897463091f0effa647a8e2822f48b2ee">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00030">30</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a24b45b02ae133efedace054329469058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b45b02ae133efedace054329469058">&#9670;&nbsp;</a></span>OnKeyFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnKeyFrame </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_byte_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when there is a new key frame. For Video only. Note that it should be called before OnNewSegment is called on the containing segment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>is in terms of the timescale of the media. </td></tr>
    <tr><td class="paramname">start_byte_offset</td><td>is the offset of where the key frame starts. </td></tr>
    <tr><td class="paramname">size</td><td>is size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#ade7b35913ba90256e567085af1649138">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00087">87</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="aaf16580970d5e65d33c80cb9e8a57651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf16580970d5e65d33c80cb9e8a57651">&#9670;&nbsp;</a></span>OnMediaEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnMediaEnd </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d03/structshaka_1_1media_1_1MuxerListener_1_1MediaRanges.html">MediaRanges</a> &amp;&#160;</td>
          <td class="paramname"><em>media_ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>duration_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when all files are written out and the muxer object does not output any more files. Note: This event might not be very interesting to MPEG DASH Live profile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">media_ranges</td><td>is the ranges of the media file. It should have ranges for the entire file, using which the file size can be calculated. </td></tr>
    <tr><td class="paramname">duration_seconds</td><td>is the length of the media in seconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a11d4301cd53ab421f524bfa143eac21a">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00064">64</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a41a3db8b5fc01846c5f60f48223a15a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a3db8b5fc01846c5f60f48223a15a0">&#9670;&nbsp;</a></span>OnMediaStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnMediaStart </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d27/structshaka_1_1media_1_1MuxerOptions.html">MuxerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>muxer_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html">StreamInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>stream_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>time_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ContainerType&#160;</td>
          <td class="paramname"><em>container_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when muxing starts. For MPEG DASH Live profile, the initialization segment information is available from <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html" title="Abstract class holds stream information.">StreamInfo</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer_options</td><td>is the options for <a class="el" href="../../df/d46/classshaka_1_1media_1_1Muxer.html">Muxer</a>. </td></tr>
    <tr><td class="paramname">stream_info</td><td>is the information of this media. </td></tr>
    <tr><td class="paramname">time_scale</td><td>is a reference time scale that overrides the time scale specified in <em>stream_info</em>. </td></tr>
    <tr><td class="paramname">container_type</td><td>is the container of this media. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a5073c56728be37c32d7734439f4062c5">shaka::media::MuxerListener</a>.</p>

<p>Reimplemented in <a class="el" href="../../d9/d44/classshaka_1_1media_1_1MultiCodecMuxerListener.html#a1d019803abca379232c060d8e004327d">shaka::media::MultiCodecMuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00036">36</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="afb4ac528f1f2650f02450b92b29c0101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4ac528f1f2650f02450b92b29c0101">&#9670;&nbsp;</a></span>OnNewSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnNewSegment </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>segment_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>segment_file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when a segment has been muxed and the file has been written. Note: For some implementations, this is used to signal new subsegments or chunks. For example, for generating video on demand (VOD) MPD manifest, this is called to signal subsegments. In the low latency case, this indicates the start of a new segment and will contain info about the segment's first chunk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment_name</td><td>is the name of the new segment. Note that some implementations may not require this, e.g. if this is a subsegment. </td></tr>
    <tr><td class="paramname">start_time</td><td>is the start time of the segment, relative to the timescale specified by MediaInfo passed to <a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a41a3db8b5fc01846c5f60f48223a15a0">OnMediaStart()</a>. </td></tr>
    <tr><td class="paramname">duration</td><td>is the duration of the segment, relative to the timescale specified by MediaInfo passed to <a class="el" href="../../d9/d68/classshaka_1_1media_1_1CombinedMuxerListener.html#a41a3db8b5fc01846c5f60f48223a15a0">OnMediaStart()</a>. </td></tr>
    <tr><td class="paramname">segment_file_size</td><td>is the segment size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aaf755e05c40fdadcca6113164f0585c6">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00071">71</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="ae10ef338dec2ca1afaf591d8590f3a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae10ef338dec2ca1afaf591d8590f3a05">&#9670;&nbsp;</a></span>OnSampleDurationReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::CombinedMuxerListener::OnSampleDurationReady </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sample_duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the average sample duration of the media is determined. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample_duration</td><td>in timescale of the media. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aa29d356ffd3a1639ab88e0ad97968135">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html#l00052">52</a> of file <a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>packager/media/event/<a class="el" href="../../de/df2/combined__muxer__listener_8h_source.html">combined_muxer_listener.h</a></li>
<li>packager/media/event/<a class="el" href="../../d6/d37/combined__muxer__listener_8cc_source.html">combined_muxer_listener.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 3 2022 08:57:15 for Shaka Packager SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
