<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Packager SDK: shaka::SimpleMpdNotifier Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Packager SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/daf/namespaceshaka.html">shaka</a></li><li class="navelem"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html">SimpleMpdNotifier</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d2/d5c/classshaka_1_1SimpleMpdNotifier-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::SimpleMpdNotifier Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/d62/simple__mpd__notifier_8h_source.html">simple_mpd_notifier.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::SimpleMpdNotifier:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d8/de1/classshaka_1_1SimpleMpdNotifier.png" usemap="#shaka::SimpleMpdNotifier_map" alt=""/>
  <map id="shaka::SimpleMpdNotifier_map" name="shaka::SimpleMpdNotifier_map">
<area href="../../d3/dd0/classshaka_1_1MpdNotifier.html" alt="shaka::MpdNotifier" shape="rect" coords="0,0,154,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a78290db0acb98904353f4d1783eddccb"><td class="memItemLeft" align="right" valign="top"><a id="a78290db0acb98904353f4d1783eddccb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SimpleMpdNotifier</b> (const <a class="el" href="../../d1/df3/structshaka_1_1MpdOptions.html">MpdOptions</a> &amp;mpd_options)</td></tr>
<tr class="separator:a78290db0acb98904353f4d1783eddccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">MpdNotifier implemetation overrides.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>None of the methods write out the MPD file until <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a8ea622a21a5807775bb2d998fa04658f">Flush()</a> is called. </p>
</div></td></tr>
<tr class="memitem:a59bcb401b5ca8d5b893ec7da9461569f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a59bcb401b5ca8d5b893ec7da9461569f">Init</a> () override</td></tr>
<tr class="separator:a59bcb401b5ca8d5b893ec7da9461569f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4aabd86ec08e5ff427120ed39fda29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer</a> (const MediaInfo &amp;media_info, uint32_t *id) override</td></tr>
<tr class="separator:a3f4aabd86ec08e5ff427120ed39fda29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe85be4dcb3e47dfd410ea47ecd792bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#afe85be4dcb3e47dfd410ea47ecd792bf">NotifyAvailabilityTimeOffset</a> (uint32_t container_id) override</td></tr>
<tr class="separator:afe85be4dcb3e47dfd410ea47ecd792bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a69783a0d098d19c87cb486aec70db1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3a69783a0d098d19c87cb486aec70db1">NotifySampleDuration</a> (uint32_t container_id, int32_t sample_duration) override</td></tr>
<tr class="separator:a3a69783a0d098d19c87cb486aec70db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25e7eac5259fe461d7bc1c18349f097"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#af25e7eac5259fe461d7bc1c18349f097">NotifySegmentDuration</a> (uint32_t container_id) override</td></tr>
<tr class="separator:af25e7eac5259fe461d7bc1c18349f097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3def10ca48103aec6891e41d0df94d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a9b3def10ca48103aec6891e41d0df94d">NotifyNewSegment</a> (uint32_t container_id, int64_t start_time, int64_t duration, uint64_t size) override</td></tr>
<tr class="separator:a9b3def10ca48103aec6891e41d0df94d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31934719bbdbc5287c4ebeb09286ff53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a31934719bbdbc5287c4ebeb09286ff53">NotifyCompletedSegment</a> (uint32_t container_id, int64_t duration, uint64_t size) override</td></tr>
<tr class="separator:a31934719bbdbc5287c4ebeb09286ff53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646415425c63bf94a4896513caf36b14"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a646415425c63bf94a4896513caf36b14">NotifyCueEvent</a> (uint32_t container_id, int64_t timestamp) override</td></tr>
<tr class="separator:a646415425c63bf94a4896513caf36b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a1231fb13e0bc97cdea5fc239184bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#ae1a1231fb13e0bc97cdea5fc239184bf">NotifyEncryptionUpdate</a> (uint32_t container_id, const std::string &amp;drm_uuid, const std::vector&lt; uint8_t &gt; &amp;new_key_id, const std::vector&lt; uint8_t &gt; &amp;new_pssh) override</td></tr>
<tr class="separator:ae1a1231fb13e0bc97cdea5fc239184bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a811c3721117dcc6aac9595a8311e70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a6a811c3721117dcc6aac9595a8311e70">NotifyMediaInfoUpdate</a> (uint32_t container_id, const MediaInfo &amp;media_info) override</td></tr>
<tr class="separator:a6a811c3721117dcc6aac9595a8311e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea622a21a5807775bb2d998fa04658f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a8ea622a21a5807775bb2d998fa04658f">Flush</a> () override</td></tr>
<tr class="separator:a8ea622a21a5807775bb2d998fa04658f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classshaka_1_1MpdNotifier"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classshaka_1_1MpdNotifier')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html">shaka::MpdNotifier</a></td></tr>
<tr class="memitem:a2d4c6967b3db8ba800b9dd97bb99fbe1 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memItemLeft" align="right" valign="top"><a id="a2d4c6967b3db8ba800b9dd97bb99fbe1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MpdNotifier</b> (const <a class="el" href="../../d1/df3/structshaka_1_1MpdOptions.html">MpdOptions</a> &amp;mpd_options)</td></tr>
<tr class="separator:a2d4c6967b3db8ba800b9dd97bb99fbe1 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae926a171d926eb142f0e8cffe64bb2a2 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#ae926a171d926eb142f0e8cffe64bb2a2">include_mspr_pro</a> () const</td></tr>
<tr class="separator:ae926a171d926eb142f0e8cffe64bb2a2 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28714ebd081aa9244aca2beb85c78d37 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memItemLeft" align="right" valign="top">DashProfile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#a28714ebd081aa9244aca2beb85c78d37">dash_profile</a> () const</td></tr>
<tr class="separator:a28714ebd081aa9244aca2beb85c78d37 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050bde7afb601661a5db508152ffc508 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memItemLeft" align="right" valign="top">MpdType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#a050bde7afb601661a5db508152ffc508">mpd_type</a> () const</td></tr>
<tr class="separator:a050bde7afb601661a5db508152ffc508 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c44f9156ecc3dcef724b891aae65b24 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#a0c44f9156ecc3dcef724b891aae65b24">use_segment_list</a> () const</td></tr>
<tr class="separator:a0c44f9156ecc3dcef724b891aae65b24 inherit pub_methods_classshaka_1_1MpdNotifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2b835e4992cf344824a4ba18d358e7c9"><td class="memItemLeft" align="right" valign="top"><a id="a2b835e4992cf344824a4ba18d358e7c9"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>SimpleMpdNotifierTest</b></td></tr>
<tr class="separator:a2b835e4992cf344824a4ba18d358e7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html">MpdNotifier</a> implementation which receives muxer listener event and generates an Mpd file. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d62/simple__mpd__notifier_8h_source.html#l00029">29</a> of file <a class="el" href="../../d2/d62/simple__mpd__notifier_8h_source.html">simple_mpd_notifier.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8ea622a21a5807775bb2d998fa04658f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea622a21a5807775bb2d998fa04658f">&#9670;&nbsp;</a></span>Flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::Flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call this method to force a flush. Implementations might not write out the MPD to a stream (file, stdout, etc.) when the MPD is updated, this forces a flush. </p>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#af8149126f4793506bef385d067561dbf">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00219">219</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a59bcb401b5ca8d5b893ec7da9461569f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bcb401b5ca8d5b893ec7da9461569f">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the notifier. For example, if this notifier uses a network for notification, then this would set up the connection with the remote host. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#ad6171481d6fb437767b1f5b9e0dac1a3">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00032">32</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="afe85be4dcb3e47dfd410ea47ecd792bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe85be4dcb3e47dfd410ea47ecd792bf">&#9670;&nbsp;</a></span>NotifyAvailabilityTimeOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyAvailabilityTimeOffset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Record the availailityTimeOffset for Low Latency DASH streaming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. This may fail if the container specified by <em>container_id</em> does not exist. </dd></dl>

<p>Reimplemented from <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#acafa6cf3bb5f5fcc6195759ef1458bda">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00074">74</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a31934719bbdbc5287c4ebeb09286ff53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31934719bbdbc5287c4ebeb09286ff53">&#9670;&nbsp;</a></span>NotifyCompletedSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyCompletedSegment </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notifies <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a> that a segment is fully written and provides the segment's complete duration and size. For Low Latency only. Note, size and duration are not known when the low latency segment is first registered with the MPD, so we must update these values after the segment is complete. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">duration</td><td>is the duration of the complete segment, in units of the stream's time scale. </td></tr>
    <tr><td class="paramname">size</td><td>is the complete segment size in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#aabefa8a0a697d3a8a82fa11dd7e771ec">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00122">122</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a646415425c63bf94a4896513caf36b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a646415425c63bf94a4896513caf36b14">&#9670;&nbsp;</a></span>NotifyCueEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyCueEvent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notifies <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a> that there is a new CueEvent. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">timestamp</td><td>is the timestamp of the CueEvent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#ad6831a12867a69d4a713408d9f437947">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00135">135</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="ae1a1231fb13e0bc97cdea5fc239184bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a1231fb13e0bc97cdea5fc239184bf">&#9670;&nbsp;</a></span>NotifyEncryptionUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyEncryptionUpdate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>drm_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_pssh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notifiers <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a> that there is a new PSSH for the container. This may be called whenever the key has to change, e.g. key rotation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">drm_uuid</td><td>is the UUID of the DRM for encryption. </td></tr>
    <tr><td class="paramname">new_key_id</td><td>is the new key ID for the key. </td></tr>
    <tr><td class="paramname">new_pssh</td><td>is the new pssh box (including the header). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This might change or get removed once DASH IF IOP specification writes a clear guideline on how to handle key rotation. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#acf6a0bde4fc907053cc9f1ff9a38b59a">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00179">179</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a6a811c3721117dcc6aac9595a8311e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a811c3721117dcc6aac9595a8311e70">&#9670;&nbsp;</a></span>NotifyMediaInfoUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyMediaInfoUpdate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const MediaInfo &amp;&#160;</td>
          <td class="paramname"><em>media_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">media_info</td><td>is the new MediaInfo. Note that codec related information cannot be updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#a4d55e7b557c624954b4e05edf6bd83d1">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00203">203</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a3f4aabd86ec08e5ff427120ed39fda29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4aabd86ec08e5ff427120ed39fda29">&#9670;&nbsp;</a></span>NotifyNewContainer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyNewContainer </td>
          <td>(</td>
          <td class="paramtype">const MediaInfo &amp;&#160;</td>
          <td class="paramname"><em>media_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>container_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notifies the <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a> that there is a new container along with <em>media_info</em>. Live may have multiple files (segments) but those should be notified via <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a9b3def10ca48103aec6891e41d0df94d">NotifyNewSegment()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">media_info</td><td>is the MediaInfo that will be passed to <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">container_id</td><td>is the numeric ID of the container, possibly for <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a9b3def10ca48103aec6891e41d0df94d">NotifyNewSegment()</a> and AddContentProtectionElement(). Only populated on success. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#ae10c06fe6022a1020fc889de389be430">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00036">36</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a9b3def10ca48103aec6891e41d0df94d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3def10ca48103aec6891e41d0df94d">&#9670;&nbsp;</a></span>NotifyNewSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifyNewSegment </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notifies <a class="el" href="../../dc/da1/classshaka_1_1MpdBuilder.html" title="This class generates DASH MPDs (Media Presentation Descriptions).">MpdBuilder</a> that there is a new segment ready. For live, this is usually a new segment, for VOD this is usually a subsegment, for low latency this is the first chunk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">start_time</td><td>is the start time of the new segment, in units of the stream's time scale. </td></tr>
    <tr><td class="paramname">duration</td><td>is the duration of the new segment, in units of the stream's time scale. </td></tr>
    <tr><td class="paramname">size</td><td>is the new segment size in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#aee3c5fef6f0436a538a3365a23388ea0">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00108">108</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="a3a69783a0d098d19c87cb486aec70db1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a69783a0d098d19c87cb486aec70db1">&#9670;&nbsp;</a></span>NotifySampleDuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifySampleDuration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sample_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Change the sample duration of container with <em>container_id</em>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
    <tr><td class="paramname">sample_duration</td><td>is the duration of a sample in timescale of the media. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. This may fail if the container specified by <em>container_id</em> does not exist. </dd></dl>

<p>Implements <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#a34174454309777dea6531f6d7923f6d4">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00085">85</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<a id="af25e7eac5259fe461d7bc1c18349f097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25e7eac5259fe461d7bc1c18349f097">&#9670;&nbsp;</a></span>NotifySegmentDuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::SimpleMpdNotifier::NotifySegmentDuration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>container_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Record the duration of a segment for Low Latency DASH streaming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container_id</td><td>Container ID obtained from calling <a class="el" href="../../d8/de1/classshaka_1_1SimpleMpdNotifier.html#a3f4aabd86ec08e5ff427120ed39fda29">NotifyNewContainer()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. This may fail if the container specified by <em>container_id</em> does not exist. </dd></dl>

<p>Reimplemented from <a class="el" href="../../d3/dd0/classshaka_1_1MpdNotifier.html#adce30b307fa9663556257f314c66043f">shaka::MpdNotifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html#l00097">97</a> of file <a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>packager/mpd/base/<a class="el" href="../../d2/d62/simple__mpd__notifier_8h_source.html">simple_mpd_notifier.h</a></li>
<li>packager/mpd/base/<a class="el" href="../../d2/d7b/simple__mpd__notifier_8cc_source.html">simple_mpd_notifier.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 3 2022 08:57:15 for Shaka Packager SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
