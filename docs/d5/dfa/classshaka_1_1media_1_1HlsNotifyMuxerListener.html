<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Packager SDK: shaka::media::HlsNotifyMuxerListener Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Packager SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/daf/namespaceshaka.html">shaka</a></li><li class="navelem"><b>media</b></li><li class="navelem"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html">HlsNotifyMuxerListener</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d9/d0b/classshaka_1_1media_1_1HlsNotifyMuxerListener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::media::HlsNotifyMuxerListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a> that uses HlsNotifier.  
 <a href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d8a/hls__notify__muxer__listener_8h_source.html">hls_notify_muxer_listener.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::media::HlsNotifyMuxerListener:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.png" usemap="#shaka::media::HlsNotifyMuxerListener_map" alt=""/>
  <map id="shaka::media::HlsNotifyMuxerListener_map" name="shaka::media::HlsNotifyMuxerListener_map">
<area href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html" alt="shaka::media::MuxerListener" shape="rect" coords="0,0,222,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adf85beae98cc27683b4628a5545840e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#adf85beae98cc27683b4628a5545840e9">HlsNotifyMuxerListener</a> (const std::string &amp;playlist_name, bool iframes_only, const std::string &amp;ext_x_media_name, const std::string &amp;ext_x_media_group_id, const std::vector&lt; std::string &gt; &amp;characteristics, <a class="el" href="../../d9/deb/classshaka_1_1hls_1_1HlsNotifier.html">hls::HlsNotifier</a> *hls_notifier)</td></tr>
<tr class="separator:adf85beae98cc27683b4628a5545840e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">MuxerListener implementation overrides.</div></td></tr>
<tr class="memitem:a8be7a524212bdd401150aa6bcb374792"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a8be7a524212bdd401150aa6bcb374792">OnEncryptionInfoReady</a> (bool is_initial_encryption_info, FourCC protection_scheme, const std::vector&lt; uint8_t &gt; &amp;key_id, const std::vector&lt; uint8_t &gt; &amp;iv, const std::vector&lt; <a class="el" href="../../d0/d86/structshaka_1_1media_1_1ProtectionSystemSpecificInfo.html">ProtectionSystemSpecificInfo</a> &gt; &amp;key_system_info) override</td></tr>
<tr class="separator:a8be7a524212bdd401150aa6bcb374792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b4187f39abe517768364f7ecb280f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a49b4187f39abe517768364f7ecb280f9">OnEncryptionStart</a> () override</td></tr>
<tr class="separator:a49b4187f39abe517768364f7ecb280f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accffa37161da12f07d15f8350f619b7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#accffa37161da12f07d15f8350f619b7d">OnMediaStart</a> (const <a class="el" href="../../d0/d27/structshaka_1_1media_1_1MuxerOptions.html">MuxerOptions</a> &amp;muxer_options, const <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html">StreamInfo</a> &amp;stream_info, int32_t time_scale, ContainerType container_type) override</td></tr>
<tr class="separator:accffa37161da12f07d15f8350f619b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bcc73560896bc417efd901428a888f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#aa6bcc73560896bc417efd901428a888f">OnSampleDurationReady</a> (int32_t sample_duration) override</td></tr>
<tr class="separator:aa6bcc73560896bc417efd901428a888f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2af080963ca02454786b8bb2ff6dd6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#aa2af080963ca02454786b8bb2ff6dd6d">OnMediaEnd</a> (const <a class="el" href="../../d1/d03/structshaka_1_1media_1_1MuxerListener_1_1MediaRanges.html">MediaRanges</a> &amp;media_ranges, float duration_seconds) override</td></tr>
<tr class="separator:aa2af080963ca02454786b8bb2ff6dd6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a293a14ff0b63c0b07c7ea8adde59a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a90a293a14ff0b63c0b07c7ea8adde59a">OnNewSegment</a> (const std::string &amp;file_name, int64_t start_time, int64_t duration, uint64_t segment_file_size) override</td></tr>
<tr class="separator:a90a293a14ff0b63c0b07c7ea8adde59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939b705752c295745cc076a20977c731"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a939b705752c295745cc076a20977c731">OnKeyFrame</a> (int64_t timestamp, uint64_t start_byte_offset, uint64_t size)</td></tr>
<tr class="separator:a939b705752c295745cc076a20977c731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f5e613bba435a8496d48d87ea66505"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a63f5e613bba435a8496d48d87ea66505">OnCueEvent</a> (int64_t timestamp, const std::string &amp;cue_data) override</td></tr>
<tr class="separator:a63f5e613bba435a8496d48d87ea66505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classshaka_1_1media_1_1MuxerListener"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classshaka_1_1media_1_1MuxerListener')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">shaka::media::MuxerListener</a></td></tr>
<tr class="memitem:a1ee7aa04ab8fd1bbf2fcafc75d56abfb inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memItemLeft" align="right" valign="top"><a id="a1ee7aa04ab8fd1bbf2fcafc75d56abfb"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a1ee7aa04ab8fd1bbf2fcafc75d56abfb">OnAvailabilityOffsetReady</a> ()</td></tr>
<tr class="memdesc:a1ee7aa04ab8fd1bbf2fcafc75d56abfb inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when LL-DASH streaming starts. <br /></td></tr>
<tr class="separator:a1ee7aa04ab8fd1bbf2fcafc75d56abfb inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544c78e01d916f63838f1c86446d1ea2 inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memItemLeft" align="right" valign="top"><a id="a544c78e01d916f63838f1c86446d1ea2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a544c78e01d916f63838f1c86446d1ea2">OnSegmentDurationReady</a> ()</td></tr>
<tr class="memdesc:a544c78e01d916f63838f1c86446d1ea2 inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when LL-DASH streaming starts. <br /></td></tr>
<tr class="separator:a544c78e01d916f63838f1c86446d1ea2 inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1a3f7c2c4f478bed80531f90eadb31 inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a3f1a3f7c2c4f478bed80531f90eadb31">OnCompletedSegment</a> (int64_t duration, uint64_t segment_file_size)</td></tr>
<tr class="separator:a3f1a3f7c2c4f478bed80531f90eadb31 inherit pub_methods_classshaka_1_1media_1_1MuxerListener"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classshaka_1_1media_1_1MuxerListener"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classshaka_1_1media_1_1MuxerListener')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">shaka::media::MuxerListener</a></td></tr>
<tr class="memitem:a6e15ef9264cd3edbfef748d626dd91ae inherit pub_types_classshaka_1_1media_1_1MuxerListener"><td class="memItemLeft" align="right" valign="top"><a id="a6e15ef9264cd3edbfef748d626dd91ae"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ContainerType</b> { <br />
&#160;&#160;<b>kContainerUnknown</b> = 0, 
<b>kContainerMp4</b>, 
<b>kContainerMpeg2ts</b>, 
<b>kContainerWebM</b>, 
<br />
&#160;&#160;<b>kContainerText</b>, 
<b>kContainerPackedAudio</b>
<br />
 }</td></tr>
<tr class="separator:a6e15ef9264cd3edbfef748d626dd91ae inherit pub_types_classshaka_1_1media_1_1MuxerListener"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html">MuxerListener</a> that uses HlsNotifier. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d8a/hls__notify__muxer__listener_8h_source.html#l00028">28</a> of file <a class="el" href="../../d2/d8a/hls__notify__muxer__listener_8h_source.html">hls_notify_muxer_listener.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adf85beae98cc27683b4628a5545840e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf85beae98cc27683b4628a5545840e9">&#9670;&nbsp;</a></span>HlsNotifyMuxerListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::HlsNotifyMuxerListener::HlsNotifyMuxerListener </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>playlist_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>iframes_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ext_x_media_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ext_x_media_group_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>characteristics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/deb/classshaka_1_1hls_1_1HlsNotifier.html">hls::HlsNotifier</a> *&#160;</td>
          <td class="paramname"><em>hls_notifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playlist_name</td><td>is the name of the playlist for the muxer's stream. </td></tr>
    <tr><td class="paramname">iframes_only</td><td>if true, indicates that it is for iframes-only playlist. </td></tr>
    <tr><td class="paramname">ext_x_media_name</td><td>is the name of this playlist. This is the value of the NAME attribute for EXT-X-MEDIA, it is not the same as <em>playlist_name</em>. This may be empty for video. </td></tr>
    <tr><td class="paramname">ext_x_media_group_id</td><td>is the group ID for this playlist. This is the value of GROUP-ID attribute for EXT-X-MEDIA. This may be empty for video. </td></tr>
    <tr><td class="paramname">characteristics</td><td>is the characteristics for this playlist. This is the value of CHARACTERISTICS attribute for EXT-X-MEDIA. This may be empty. </td></tr>
    <tr><td class="paramname">hls_notifier</td><td>used by this listener. Ownership does not transfer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00019">19</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a63f5e613bba435a8496d48d87ea66505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f5e613bba435a8496d48d87ea66505">&#9670;&nbsp;</a></span>OnCueEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnCueEvent </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cue_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when there is a new Ad Cue, which should align with (sub)segments. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>indicate the cue timestamp. </td></tr>
    <tr><td class="paramname">cue_data</td><td>is the data of the cue. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aa9d6d113d7a0b58fffc1abac99013757">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00264">264</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a8be7a524212bdd401150aa6bcb374792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be7a524212bdd401150aa6bcb374792">&#9670;&nbsp;</a></span>OnEncryptionInfoReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnEncryptionInfoReady </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_initial_encryption_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FourCC&#160;</td>
          <td class="paramname"><em>protection_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d0/d86/structshaka_1_1media_1_1ProtectionSystemSpecificInfo.html">ProtectionSystemSpecificInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>key_system_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the media's encryption information is ready. OnEncryptionInfoReady with <em>initial_encryption_info</em> being true should be called before <a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#accffa37161da12f07d15f8350f619b7d">OnMediaStart()</a>, if the media is encrypted. All the parameters may be empty just to notify that the media is encrypted. For ISO BMFF (MP4) media: If <em>is_initial_encryption_info</em> is true then <em>key_id</em> is the default_KID in 'tenc' box. If <em>is_initial_encryption_info</em> is false then <em>key_id</em> is the new key ID for the for the next crypto period. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_initial_encryption_info</td><td>is true if this is the first encryption info for the media. In general, this flag should always be true for non-key-rotated media and should be called only once. </td></tr>
    <tr><td class="paramname">protection_scheme</td><td>specifies the protection scheme: 'cenc', 'cens', 'cbc1', 'cbcs'. </td></tr>
    <tr><td class="paramname">key_id</td><td>is the key ID for the media. The format should be a vector of uint8_t, i.e. not (necessarily) human readable hex string. </td></tr>
    <tr><td class="paramname">iv</td><td>is the initialization vector. For most cases this should be 16 bytes, but whether the input is accepted is up to the implementation. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#ab521acca727bbe01aa15c751325c0001">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00043">43</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a49b4187f39abe517768364f7ecb280f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49b4187f39abe517768364f7ecb280f9">&#9670;&nbsp;</a></span>OnEncryptionStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnEncryptionStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the muxer starts encrypting the segments. Further segments notified via <a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#a90a293a14ff0b63c0b07c7ea8adde59a">OnNewSegment()</a> are encrypted. This may be called more than once e.g. per segment, but the semantics does not change. </p>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a897463091f0effa647a8e2822f48b2ee">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00063">63</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a939b705752c295745cc076a20977c731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a939b705752c295745cc076a20977c731">&#9670;&nbsp;</a></span>OnKeyFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnKeyFrame </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_byte_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when there is a new key frame. For Video only. Note that it should be called before OnNewSegment is called on the containing segment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>is in terms of the timescale of the media. </td></tr>
    <tr><td class="paramname">start_byte_offset</td><td>is the offset of where the key frame starts. </td></tr>
    <tr><td class="paramname">size</td><td>is size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#ade7b35913ba90256e567085af1649138">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00247">247</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="aa2af080963ca02454786b8bb2ff6dd6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2af080963ca02454786b8bb2ff6dd6d">&#9670;&nbsp;</a></span>OnMediaEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnMediaEnd </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d03/structshaka_1_1media_1_1MuxerListener_1_1MediaRanges.html">MediaRanges</a> &amp;&#160;</td>
          <td class="paramname"><em>media_ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>duration_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when all files are written out and the muxer object does not output any more files. Note: This event might not be very interesting to MPEG DASH Live profile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">media_ranges</td><td>is the ranges of the media file. It should have ranges for the entire file, using which the file size can be calculated. </td></tr>
    <tr><td class="paramname">duration_seconds</td><td>is the length of the media in seconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a11d4301cd53ab421f524bfa143eac21a">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00148">148</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="accffa37161da12f07d15f8350f619b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accffa37161da12f07d15f8350f619b7d">&#9670;&nbsp;</a></span>OnMediaStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnMediaStart </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d27/structshaka_1_1media_1_1MuxerOptions.html">MuxerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>muxer_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html">StreamInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>stream_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>time_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ContainerType&#160;</td>
          <td class="paramname"><em>container_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when muxing starts. For MPEG DASH Live profile, the initialization segment information is available from <a class="el" href="../../d5/db1/classshaka_1_1media_1_1StreamInfo.html" title="Abstract class holds stream information.">StreamInfo</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">muxer_options</td><td>is the options for <a class="el" href="../../df/d46/classshaka_1_1media_1_1Muxer.html">Muxer</a>. </td></tr>
    <tr><td class="paramname">stream_info</td><td>is the information of this media. </td></tr>
    <tr><td class="paramname">time_scale</td><td>is a reference time scale that overrides the time scale specified in <em>stream_info</em>. </td></tr>
    <tr><td class="paramname">container_type</td><td>is the container of this media. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#a5073c56728be37c32d7734439f4062c5">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00085">85</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="a90a293a14ff0b63c0b07c7ea8adde59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a293a14ff0b63c0b07c7ea8adde59a">&#9670;&nbsp;</a></span>OnNewSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnNewSegment </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>segment_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>segment_file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when a segment has been muxed and the file has been written. Note: For some implementations, this is used to signal new subsegments or chunks. For example, for generating video on demand (VOD) MPD manifest, this is called to signal subsegments. In the low latency case, this indicates the start of a new segment and will contain info about the segment's first chunk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment_name</td><td>is the name of the new segment. Note that some implementations may not require this, e.g. if this is a subsegment. </td></tr>
    <tr><td class="paramname">start_time</td><td>is the start time of the segment, relative to the timescale specified by MediaInfo passed to <a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#accffa37161da12f07d15f8350f619b7d">OnMediaStart()</a>. </td></tr>
    <tr><td class="paramname">duration</td><td>is the duration of the segment, relative to the timescale specified by MediaInfo passed to <a class="el" href="../../d5/dfa/classshaka_1_1media_1_1HlsNotifyMuxerListener.html#accffa37161da12f07d15f8350f619b7d">OnMediaStart()</a>. </td></tr>
    <tr><td class="paramname">segment_file_size</td><td>is the segment size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aaf755e05c40fdadcca6113164f0585c6">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00228">228</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<a id="aa6bcc73560896bc417efd901428a888f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bcc73560896bc417efd901428a888f">&#9670;&nbsp;</a></span>OnSampleDurationReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::HlsNotifyMuxerListener::OnSampleDurationReady </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sample_duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when the average sample duration of the media is determined. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample_duration</td><td>in timescale of the media. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../dd/d7a/classshaka_1_1media_1_1MuxerListener.html#aa29d356ffd3a1639ab88e0ad97968135">shaka::media::MuxerListener</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html#l00128">128</a> of file <a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>packager/media/event/<a class="el" href="../../d2/d8a/hls__notify__muxer__listener_8h_source.html">hls_notify_muxer_listener.h</a></li>
<li>packager/media/event/<a class="el" href="../../d0/d3a/hls__notify__muxer__listener_8cc_source.html">hls_notify_muxer_listener.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 3 2022 11:43:04 for Shaka Packager SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
